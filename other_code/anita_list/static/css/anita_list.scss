
$border_color: #e0e0e0;
$header_bk_color: #f5f5f5;
$old_row_color: #f5f5f5;

.anita_list_view {

    overflow: hidden;
    display: flex;
    flex: 1 1 auto;
    flex-direction: column;

    table {
        border-collapse: inherit;
    }

    .o_field_x2many_list_row_add a {
        line-height: 30px;
    }

    .anita_list_container {
        display: flex;
        flex: 1 1 auto;
        flex-direction: column;
        position: relative;
        overflow: hidden;
        background-color: #fff;
        width: 100%;
        min-height: 200px;

        .anita_table_body {
            position: relative;
            overflow: auto;
            flex: 1 1 auto;
        }
    }

    .anita_list {
        margin: 0;
        background-color: #fff;
        color: #666;

        th {
            text-align: center;
            font-weight: 400;
        }

        th,
        td {
            border-width: 1px;
            border-style: solid;
            border-color: $border_color;
            position: relative;
            padding: 0px 5px;
            min-height: 20px;
            line-height: 20px;
        }

        th {
            border-right: none;
            border-top: none;
            border-left: 1px solid $border_color;
        }

        td {
            border-top: none;
            border-right: none;
            border-left: none;
        }

        &.anita_bordered {
            td {
                border-left: 1px solid $border_color;
                &:first-child {
                    border-left: none;
                }
            }
        }
    }
    
    .anita_list_header, .anita_table_footer  {
        border-bottom: 1px solid #e6e6e6;
        border-top: 1px solid #e6e6e6;
        background-color: #f2f2f2;
        overflow: hidden;
        flex-shrink: 0;

        .anita_list {
            margin-bottom: -1px;
            margin-top: -1px;
        }
    }

    .anita_list_sort_asc,
    .anita_list_sort_desc {

        top: 3px;
        border-top: none;
        border-bottom-style: solid;
        border-bottom-color: #b2b2b2;

        &:hover {
            border-bottom-color: #666;
        }

        &:before {
            position: absolute;
            bottom: 0.3em;
            display: block;
            right: 1em;
            content: "\2191";
        }

        &:after {
            position: absolute;
            bottom: 0.2em;
            display: block;
            right: 0.5em;
            content: "\2193";
        }
    }

    .anita_list-sort-asc:after,
    .anita_list-sort-desc::before {
        opacity: 0.3;
    }

    .anita_list_cell {
        height: 36px;
        line-height: 36px;
        padding: 0 5px;
        position: relative;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        box-sizing: border-box;
    }

    .o_data_cell {
        height: 36px;
        line-height: 36px;
    }

    .anita_list_patch {
        height: 100%;
        background-color: #f2f2f2;
    }

    .o_optional_columns_dropdown_toggle {
        z-index: 3;
    }

    .anita-resizer {
        position: absolute;
        top: 0px;
        right: -5px;
        bottom: 0px;
        width: 10px;
        background: transparent;
        cursor: col-resize !important;
        font-size: 0px;
        margin: 0px 1px;
        z-index: 2;
    }

    .o_list_record_selector {
        width: 36px;
    }

    .anita_list_selector {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .anita_list_trash, anita_serial_cell, anita_list_expander {
        width: 40px;
        min-width: 40px;
    }

    .o_list_record_remove button {
        padding: 0px;
        background: none;
        border-style: none;
        display: table-cell;
        cursor: pointer;
    }

    .anita_list_expander {
        > div {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;

            i {
                font-size: 20px;
                color: #666;
                cursor: pointer;
                transition: all .3s;

                &.expanded {
                    transform: rotate(90deg);
                }
            }
        }
    }

    .anita_serial_cell, .anita_list_expander,.o_handle_cell {
        text-align: center;
        width: 40px;
        min-width: 40px;
    }

    .anita-hide {
        display: none;
    }

    .o_optional_columns .o_optional_columns_dropdown {
        margin-top: 0px;
    }

    .o_datepicker .o_datepicker_button {
        top: 0px;
    }

    // table fixed
    .anita_fixed_left,
    .anita_fixed_right  {
        position: -webkit-sticky !important;
        position: sticky !important;
        z-index: 2;
        left: 0px;
    }

    .anita_fixed_right {
        right: 0px;
    }

    .anita_body_table {
        .anita_fixed_left,
        .anita_fixed_right  {
            background-color: #fff;
        }
    }

    .anita_header_table {
        .anita_fixed_left, .anita_fixed_right  {
            background-color: #f2f2f2;
        }
    }

    .anita_fixed_last_wapper {
        width: 100%;
        overflow: hidden;
    }

    .anita_fixed_left_last:after {
        position: absolute;
        top: 0;
        right: 0;
        bottom: -1px;
        width: 30px;
        transform: translate(100%);
        transition: box-shadow .3s;
        content: "";
        pointer-events: none;
        box-shadow: inset 10px 0 8px -8px #00000026;
        overflow: inherit !important;
    }

    .anita_fixed_right_first:after {
        position: absolute;
        top: 0;
        bottom: -1px;
        left: 0;
        width: 30px;
        transform: translate(-100%);
        transition: box-shadow .3s;
        content: "";
        pointer-events: none;
        box-shadow: inset -10px 0 8px -8px #00000026;
    }

    th > span {
        &.o_resize {
            bottom: 0;
            cursor: col-resize;
            position: absolute;
            right: 0;
            top: 0;
            width: 10px;
            z-index: 1;
        }
    }

    .anita_page_simulater {
        width: 1px;
        z-index: -1;
    }

    .anita_body_table {
        width: 100%;

        &.anita_virtual_table {
            position: absolute;
            left: 0;
            right: 0;
            top: 0;
        }

        tbody {
            > tr {
                > td:not(.o_list_record_selector):not(.o_handle_cell):not(.o_list_button):not(.o_state_selection_cell) {
                    display: table-cell;
                    max-width: 100%;
                    white-space: nowrap;
                    overflow: hidden;
                    text-overflow: ellipsis;
                    vertical-align: middle;
    
                    &.anita_fixed_left_last, &.anita_fixed_right_first {
                        overflow: inherit !important;
                    }
                }

                td:not(.o_list_record_selector).o_list_button {
                    white-space: nowrap;
                    //overflow: hidden;
                    display: table-cell;
                }

                &.anita_odd_row {
                    background-color: rgba(0, 0, 0, 0.01);
                }
            }    
        }
        tr.o_group_header {
            height: 30px;
        }
    }

    .header_scroller, .footer_scroller {
        flex: 1 1 auto;
        overflow: hidden;
        display: flex;
    }

    .anita_table_header {
        display: flex;
        
        .anita_header_table {
            width: 100%;
            background-color: #f2f2f2;
            th {
                min-height: 36px;
                line-height: 36px;
            }

            thead > tr {
                > th:not(.o_list_record_selector):not(.o_handle_cell):not(.o_list_button):not(.o_state_selection_cell) {
                    display: table-cell;
                    max-width: 100%;
                    white-space: nowrap;
                    overflow: hidden;
                    text-overflow: ellipsis;
                    vertical-align: middle;

                    &.anita_fixed_left_last, &.anita_fixed_right_first {
                        overflow: inherit !important;
                    }
                }
            }
        }
    }

    .anita_table_body {
        thead > tr {
            > th:not(.o_list_record_selector) {
                display: table-cell;
                max-width: 100%;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
                vertical-align: middle;
            }
        }
    }

    .anita_table_footer {
        display: flex;
        td {
            background-color: #f2f2f2;
            padding: 0.3rem;
        }
    }

    .anita_tree_hierarch {
        padding: 3px;
        height: 100%;

        i {
            font-size: 20px;
            color: #666;
        }
    }

    .anita_expand_row {
        padding: 5px;
        min-height: 60px;
    }

    tr.hover {
        background-color: #f2f2f2 !important;

        td {
            background-color: #f2f2f2 !important;
        }
    }
}

.anita_list_config {
    position: absolute;
    top: 1px;
    right: -351px;
    bottom: 1px;
    width: 350px;
    background-color: #fff;
    border-left: 1px solid #e6e6e6;
    box-shadow: 0 0 8px rgba(0, 0, 0, .08);
    z-index: 3;
    transition: right .3s ease-in-out;

    &.x2many_configer {
        position: fixed;
    }

    &.show {
        right: 0px;
    }

    .tab_content,
    .tabs {
        height: 100%;
        overflow: hidden;
    }

    .tab_content {

        .columns_tab_pane,
        .filter_tab_pane {
            flex: 1 1 auto;
            display: none;
            overflow-y: auto;
            overflow-x: hidden;
            height: 100%;

            .sortable {
                padding: 0;

                ol {
                    padding-left: 10px;
                }
            }

            &.active {
                display: block;
            }
        }
    }

    .tabs {
        width: 30px;
        background-color: #e6e6e6;
        border-left: 1px solid #e6e6e6;
        padding-top: 15px;
        flex-shrink: 0 !important;

        .tab_item {
            padding: 5px 0px;
            height: 85px;
            -webkit-writing-mode: vertical-lr;
            writing-mode: vertical-lr;
            display: flex;
            align-items: center;
            justify-content: center;
            user-select: none !important;
            cursor: pointer;

            span {
                padding-top: 5px;
            }

            &.active {
                border-left: 1px solid rgb(73, 80, 87);
            }
        }
    }

    .list-group-item {
        margin-top: 5px;
        border: none;
        padding: 0 !important;

        .list-group-item {
            padding-left: 1.25rem !important;
        }

        input {
            border: none;
        }
    }

    .column_name {
        border: 1px solid rgba(0, 0, 0, 0.125);
        padding: 0.75rem 0rem 0.75rem 1.25rem;
    }

    .invisible_fields {

        .input-group {
            input {
                border: none;
            }
        }

        .remove_column,
        .width_policy,
        .lock_column,
        .toggle_visible {
            display: none;
        }

        input {
            pointer-events: none;
        }
    }

    .header {
        padding: 10px;
    }

    .sorter_container {
        overflow-x: hidden;
        overflow-y: auto;
        padding: 0px 10px 10px 10px;

        .toggle_visible,
        .remove_column {
            display: block;
        }
    }

    .footer {
        border-top: 1px solid #e6e6e6;
        height: 45px;
        display: flex;
        align-items: center;
        padding: 5px;
    }

    .invisible_fields {

        .toggle_visible,
        .remove_column {
            display: none;
        }
    }
}

.anita_search_row {

    th {
        line-height: 28px !important;
    }

    .anita_search_row_item {
        display: flex;
        align-items: center;
        padding: 3px;
        width: 100%;
        overflow: hidden;

        .field_value {
            height: auto !important;
            border: 1px solid #ced4da;
            border-radius: 3px;
            color: #495057;
            background-color: #fff;
            background-clip: padding-box;
            overflow: hidden;

            .o_input {
                border: none !important;
                padding: 2px 5px !important
            }

            input {
                &:focus {
                    outline: none !important;
                }
                &:focus-visible {
                    outline: none !important;
                }
            }
        }

        .advance_filter {
            margin-left: 3px;
        }
    }
}

.anita_search_row {

    .o_searchview_input_container {

        background-color: white;
        border: 1px solid #ccc;
        border-radius: 3px;
        padding: 1px 5px 1px 5px;
        margin: 2px;

        .o_searchview_input {
            border: none;
        }
    }

    .o_searchview_facet {
        border: 1px solid #c0c0c0;
        background: #e2e2e0;
        border-radius: 3px; 
        padding: 0px 4px;
        line-height: 24px;

        .o_searchview_facet_label {
            background-color: #71639e;
        }

        .o_facet_remove {
            color: #6c757d;
            position: inherit !important;
        }

        .o_facet_remove:hover {
            color: #495057;
        }
    }
}

.anita_autocomplete {
    padding: 5px !important;

    li {
        padding: 0px 3px !important;

        &.o-selection-focus {
            background-color: #71639e;

            >a {
                color: white;
            }
        }
    }
}

.anita_search_row {
    .anita_search_row_item {
        .o_searchview_facet {
            display: -webkit-box;
            display: -webkit-flex;
            display: flex;
            -webkit-box-flex: 0;
            -webkit-flex: 0 0 auto;

            flex: 0 0 auto;
            margin: 1px 3px 0 0;
            max-width: 100%;
            position: relative;

            border: 1px solid #6c757d;
            background: #e2e2e0;

            .o_searchview_facet_label {
                align-items: center;
                color: white;
                -webkit-box-flex: 0;
                -webkit-flex: 0 0 auto;
                flex: 0 0 auto;
                padding: 0 3px;
                display: -webkit-box;
                display: -webkit-flex;
                display: flex;
                max-width: 100%;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
                vertical-align: top;
            }

            .o_facet_values {
                direction: ltr;
                overflow: hidden;
                white-space: nowrap;

                .o_facet_values_sep {
                    font-style: italic;
                    margin: 0 0.3rem;
                }
            }

            .o_facet_remove {
                align-items: center;
                cursor: pointer;
                display: -webkit-box;
                display: -webkit-flex;
                display: flex;
                -webkit-box-flex: 0;
                -webkit-flex: 0 0 auto;
                flex: 0 0 auto;
                justify-content: center;
                width: 18px;
            }
        }
    }
}

.anita_list_view  {
    .o_data_cell.o_text_overflow, .o_data_cell.o_invisible_modifier {
        display: table-cell !important;
    }

    .o_list_record_remove_header {
        width: 32px !important;
    }
    
    .table-hover tbody tr:hover {
        background-color: inherit;
    }
}

.o_field_x2many  {
    .anita_list_view {
        border: 1px solid #e6e6e6;
    }
}

.anita_list_view .anita_list_config, .o_optional_columns_dropdown .anita_list_switcher, .x2many_configer {
    .custom-control {
        position: relative;
        display: block;
        min-height: 1.2rem;
        padding-left: 1.688rem;

        .custom-control-label {
            margin-bottom: 0;
            display: inline-block;
            position: static !important;
            height: 24px;
            line-height: 24px;

            &::before {
                content: "";
                position: absolute;
                top: 0;
                left: 0;
                display: block;
                width: 46px;
                height: 24px;
                background: #fff;
                border-radius: 100px;
                border: 1px solid #becad6;
                pointer-events: all;
                transition: all 250ms cubic-bezier(.27,.01,.38,1.06);
                user-select: none;
            }

            &::after {
                content: '';
                position: absolute;
                top: 4px;
                left: 4px;
                width: 16px;
                height: 16px;
                background: #becad6;
                border-radius: 100px;
                transition: 350ms;
            }
        }

        .custom-control-input {
            position: absolute;
            z-index: -1;
            opacity: 0;

            &:checked~.custom-control-label {

                &::before {
                    color: #fff;
                    box-shadow: none;
                    background: #17c671;
                    border-color: #17c671;
                }

                &::after {
                    left: 42px;
                    -webkit-transform: translateX(-100%);
                    transform: translateX(-100%);
                    background: #fff;
                }
            }
        }
    }

    .custom-toggle {
        position: relative;
        padding-left: 56px;

        .custom-control-label {
            &::before {
                position: absolute;
                top: 0;
                left: 0;
                display: block;
                width: 46px;
                height: 24px;
                background: #fff;
                border-radius: 100px;
                border: 1px solid #becad6;
            }

            &::after {
                content: '';
                position: absolute;
                top: 4px;
                left: 4px;
                width: 16px;
                height: 16px;
                background: #becad6;
                border-radius: 100px;
                transition: 350ms;
                display: block;
            }
        }
    }
}
